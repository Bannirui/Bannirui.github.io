---
title: linux-0x06-13号BIOS中断
category_bar: true
date: 2025-05-06 10:29:36
categories: Linux源码
---

13号中断是磁盘相关的中断。

| 功能号AH | 功能描述       |
| -------- | -------------- |
| 0x00     |                |
| 0x01     |                |
| 0x02     | 读扇区         |
| 0x03     |                |
| 0x04     |                |
| 0x05     |                |
| 0x06     |                |
| 0x07     |                |
| 0x08     |                |
| 0x09     |                |
| 0x0A     |                |
| 0x0B     |                |
| 0x0C     |                |
| 0x0D     |                |
| 0x0E     |                |
| 0x0F     |                |
| 0x10     |                |
| 0x11     |                |
| 0x12     |                |
| 0x13     | 控制驱动器诊断 |
| 0x14     |                |
| 0x15     |                |
| 0x16     |                |
| 0x17     |                |
| 0x18     |                |
| 0x19     |                |
| 0x1A     |                |



### 1 功能号0x02读扇区

#### 1.1 入参

- AH=0x02
- AL=扇区数
- CH=柱面
- CL=扇区号(1-based)
- DH=磁头
- DL=驱动器
  - 0x00表示软盘
  - 0x00FF表示硬盘
- ES:BX=缓冲区的地址

#### 1.2 出参
- CF
  - 0表示操作成功
    - AH=0x00
    - AL=传输的扇区数
  - 非0表示操作失败 AH=状态代码


### 2 功能号0x13控制驱动器诊断

#### 2.1 入参
- AH=0x13

#### 2.2 出参
- CF
  - 0 操作成功
  - 不是0 在AH中读状态码