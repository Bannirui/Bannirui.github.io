---
title: Redis-2刷-0x07-redisServer初始化
date: 2023-11-22 14:08:39
categories: Redis
tags: 2刷Redis
---

`redisServer`是一个定义在`server.h`中的UDT，是一个超级大的结构体，大的原因是描述了整个服务端实例的信息。

1 外部全局变量
---

server.c文件中定义全局变量

```c
/**
 * 全局变量定义
 * 这个变量是未初始化全局变量 定义在了静态内存BSS段
 * 为了能让其他文件访问到这个变量 在头文件中用extern将这个变量声明为了外部变量
 */
struct redisServer server; /* Server global state */
```

server.c将变量声明为外部的

```c
// 在server.c文件中将其定义为了全局变量 这个地方用extern修饰将变量声明为外部变量 让其他文件也能访问到这个变量
extern struct redisServer server;
```

2 初始化
---

| id  | 成员                                  | 类型                        | 业务含义                                                       | 初始化地方                                            | 初始化值                         |
|-----|---------------------------------------|-----------------------------|----------------------------------------------------------------|-------------------------------------------------------|----------------------------------|
| 1   | pid                                   | pid_t                       |                                                                |                                                       |                                  |
| 2   | main_thread_id                        | pthread_t                   |                                                                |                                                       |                                  |
| 3   | configfile                            | char*                       |                                                                | server.c::main->initServerConfig                      | NULL                             |
| 4   | executable                            | char*                       |                                                                | server.c::main->initServerConfig                      | NULL                             |
| 5   | exec_argv                             | char**                      |                                                                |                                                       |                                  |
| 6   | dynamic_hz                            | int                         |                                                                |                                                       |                                  |
| 7   | config_hz                             | int                         |                                                                |                                                       |                                  |
| 8   | umask                                 | mode_t                      | 记录系统的umask值                                              | server.c::main                                        | 系统的umask值                    |
| 9   | hz                                    | int                         |                                                                | server.c::main->initServerConfig                      | 10                               |
| 10  | in_fork_child                         | int                         |                                                                |                                                       |                                  |
| 11  | db                                    | redisDb*                    |                                                                |                                                       |                                  |
| 12  | commands                              | dict*                       |                                                                |                                                       |                                  |
| 13  | orig_commands                         | dict*                       |                                                                |                                                       |                                  |
| 14  | el                                    | aeEventLoop*                |                                                                |                                                       |                                  |
| 15  | errors                                | ras*                        |                                                                |                                                       |                                  |
| 16  | lruclock                              | redisAtomic unsigned int    |                                                                |                                                       |                                  |
| 17  | shutvolatile                          | sig_atomic_tdown_asap       |                                                                |                                                       |                                  |
| 18  | activerehashing                       | int                         |                                                                |                                                       |                                  |
| 19  | active_defrag_running                 | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 20  | pidfile                               | char*                       |                                                                | server.c::main->initServerConfig                      | NULL                             |
| 21  | arch_bits                             | int                         | 机器是64位还是32位                                             | server.c::main->initServerConfig                      | 64                               |
| 22  | cronloops                             | int                         |                                                                |                                                       |                                  |
| 23  | runid                                 | char[41]                    |                                                                | server.c::main->initServerConfig->getRandomHexChars   | 长度40的随机[0...9 a...f]字符串  |
| 24  | sentinel_mode                         | int                         | 标识程序启动模式<br>0 标识不启用哨兵模式<br>1 标识启用哨兵模式 | server.c::main                                        | 0                                |
| 25  | initial_memory_usage                  | size_t                      |                                                                |                                                       |                                  |
| 26  | always_show_logo                      | int                         |                                                                |                                                       |                                  |
| 27  | in_eval                               | int                         |                                                                |                                                       |                                  |
| 28  | in_exec                               | int                         |                                                                |                                                       |                                  |
| 29  | propagate_in_transaction              | int                         |                                                                |                                                       |                                  |
| 30  | ignore_warnings                       | char*                       |                                                                |                                                       |                                  |
| 31  | client_pause_in_transaction           | int                         |                                                                |                                                       |                                  |
| 32  | moduleapi                             | dict*                       |                                                                |                                                       |                                  |
| 33  | sharedapi                             | dict*                       |                                                                |                                                       |                                  |
| 34  | loadmodule_queue                      | list*                       |                                                                |                                                       |                                  |
| 35  | module_blocked_pipe                   | int[2]                      |                                                                |                                                       |                                  |
| 36  | child_pid                             | pid_t                       |                                                                |                                                       |                                  |
| 37  | child_type                            | int                         |                                                                |                                                       |                                  |
| 38  | module_client                         | client*                     |                                                                |                                                       |                                  |
| 39  | port                                  | int                         |                                                                |                                                       |                                  |
| 40  | tls_port                              | int                         |                                                                |                                                       |                                  |
| 41  | tcp_backlog                           | int                         |                                                                |                                                       |                                  |
| 42  | bindaddr                              | char*[16]                   |                                                                |                                                       |                                  |
| 43  | bindaddr_count                        | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 44  | unixsocket                            | char*                       |                                                                |                                                       |                                  |
| 45  | unixsocketperm                        | mode_t                      |                                                                | server.c::main->initServerConfig                      | 0                                |
| 46  | ipfd                                  | socketFds                   |                                                                | server.c::main->initServerConfig                      | ipfd::count赋值为0               |
| 47  | tlsfd                                 | socketFds                   |                                                                | server.c::main->initServerConfig                      | tlsfd::count赋值为0              |
| 48  | sofd                                  | int                         |                                                                | server.c::main->initServerConfig                      | -1                               |
| 49  | cfd                                   | socketFds                   |                                                                |                                                       |                                  |
| 50  | clients                               | list*                       |                                                                |                                                       |                                  |
| 51  | clients_to_close                      | list*                       |                                                                |                                                       |                                  |
| 52  | clients_pending_write                 | list*                       |                                                                |                                                       |                                  |
| 53  | clients_pending_read                  | list*                       |                                                                |                                                       |                                  |
| 54  | slaves                                | list*                       |                                                                |                                                       |                                  |
| 55  | monitors                              | list*                       |                                                                |                                                       |                                  |
| 56  | current_client                        | client*                     |                                                                |                                                       |                                  |
| 57  | clients_timeout_table                 | rax*                        |                                                                |                                                       |                                  |
| 58  | fixed_time_expire                     | long                        |                                                                |                                                       |                                  |
| 59  | clients_index                         | rax*                        |                                                                |                                                       |                                  |
| 60  | client_pause_type                     | pause_type                  |                                                                |                                                       |                                  |
| 61  | paused_clients                        | list*                       |                                                                |                                                       |                                  |
| 62  | client_pause_end_time                 | mstime_t                    |                                                                |                                                       |                                  |
| 63  | neterr                                | char[256]                   |                                                                |                                                       |                                  |
| 64  | migrate_cached_sockets                | dict*                       |                                                                |                                                       |                                  |
| 65  | next_client_id                        | redisAtomic uint64_t        |                                                                |                                                       |                                  |
| 66  | protected_mode                        | int                         |                                                                |                                                       |                                  |
| 67  | gopher_enabled                        | int                         |                                                                |                                                       |                                  |
| 68  | io_threads_num                        | int                         |                                                                |                                                       |                                  |
| 69  | io_threads_do_reads                   | int                         |                                                                |                                                       |                                  |
| 70  | io_threads_active                     | int                         |                                                                |                                                       |                                  |
| 71  | events_processed_while_blocked        | long long                   |                                                                |                                                       |                                  |
| 72  | loading                               | volatile sig_atomic_t       |                                                                | server.c::main->initServerConfig                      | 0                                |
| 73  | loading_total_bytes                   | off_t                       |                                                                |                                                       |                                  |
| 74  | loading_rdb_used_mem                  | off_t                       |                                                                | server.c::main->initServerConfig                      | 0                                |
| 75  | loading_loaded_bytes                  | off_t                       |                                                                |                                                       |                                  |
| 76  | loading_start_time                    | time_t                      |                                                                |                                                       |                                  |
| 77  | loading_process_events_interval_bytes |                             |                                                                |                                                       |                                  |
| 78  | delCommand                            | struct redisCommand*        |                                                                |                                                       |                                  |
| 79  | multiCommand                          | struct redisCommand*        |                                                                |                                                       |                                  |
| 80  | lpushCommand                          | struct redisCommand*        |                                                                |                                                       |                                  |
| 81  | lpopCommand                           | struct redisCommand*        |                                                                |                                                       |                                  |
| 82  | rpopCommand                           | struct redisCommand*        |                                                                |                                                       |                                  |
| 83  | zpopminCommand                        | struct redisCommand*        |                                                                |                                                       |                                  |
| 84  | zpopmaxCommand                        | struct redisCommand*        |                                                                |                                                       |                                  |
| 85  | sremCommand                           | struct redisCommand*        |                                                                |                                                       |                                  |
| 86  | execCommand                           | struct redisCommand*        |                                                                |                                                       |                                  |
| 87  | expireCommand                         | struct redisCommand*        |                                                                |                                                       |                                  |
| 88  | pexpireCommand                        | struct redisCommand*        |                                                                |                                                       |                                  |
| 89  | xclaimCommand                         | struct redisCommand*        |                                                                |                                                       |                                  |
| 90  | xgroupCommand                         | struct redisCommand*        |                                                                |                                                       |                                  |
| 91  | rpoplpushCommand                      | struct redisCommand*        |                                                                |                                                       |                                  |
| 92  | lmoveCommand                          | struct redisCommand*        |                                                                |                                                       |                                  |
| 93  | stat_starttime                        | time_t                      |                                                                |                                                       |                                  |
| 94  | stat_numcommands                      | long long                   |                                                                |                                                       |                                  |
| 95  | stat_numconnections                   | long long                   |                                                                |                                                       |                                  |
| 96  | stat_expiredkeys                      | long long                   |                                                                |                                                       |                                  |
| 97  | stat_expired_stale_perc               | double                      |                                                                |                                                       |                                  |
| 98  | stat_expired_time_cap_reached_count   | long long                   |                                                                |                                                       |                                  |
| 99  | stat_expire_cycle_time_used           | long long                   |                                                                |                                                       |                                  |
| 100 | stat_evictedkeys                      | long long                   |                                                                |                                                       |                                  |
| 101 | stat_keyspace_hits                    | long long                   |                                                                |                                                       |                                  |
| 102 | stat_keyspace_misses                  | long long                   |                                                                |                                                       |                                  |
| 103 | stat_active_defrag_hits               | long long                   |                                                                |                                                       |                                  |
| 104 | stat_active_defrag_misses             | long long                   |                                                                |                                                       |                                  |
| 105 | stat_active_defrag_key_hits           | long long                   |                                                                |                                                       |                                  |
| 106 | stat_active_defrag_key_misses         | long long                   |                                                                |                                                       |                                  |
| 107 | stat_active_defrag_scanned            | long long                   |                                                                |                                                       |                                  |
| 108 | stat_peak_memory                      | size_t                      |                                                                |                                                       |                                  |
| 109 | stat_fork_time                        | long long                   |                                                                |                                                       |                                  |
| 110 | stat_fork_rate                        | double                      |                                                                |                                                       |                                  |
| 111 | stat_total_forks                      | long long                   |                                                                |                                                       |                                  |
| 112 | stat_rejected_conn                    | long long                   |                                                                |                                                       |                                  |
| 113 | stat_sync_full                        | long long                   |                                                                |                                                       |                                  |
| 114 | stat_sync_partial_ok                  | long long                   |                                                                |                                                       |                                  |
| 115 | stat_sync_partial_err                 | long long                   |                                                                |                                                       |                                  |
| 116 | slowlog                               | list*                       |                                                                |                                                       |                                  |
| 117 | slowlog_entry_id                      | long long                   |                                                                |                                                       |                                  |
| 118 | slowlog_log_slower_than               | long long                   |                                                                |                                                       |                                  |
| 119 | slowlog_max_len                       | unsigned long               |                                                                |                                                       |                                  |
| 120 | cron_malloc_stats                     | struct malloc_stats         |                                                                |                                                       |                                  |
| 121 | stat_net_input_bytes                  | redisAtomic long long       |                                                                |                                                       |                                  |
| 122 | stat_net_output_bytes                 | redisAtomic long long       |                                                                |                                                       |                                  |
| 123 | stat_current_cow_bytes                | size_t                      |                                                                |                                                       |                                  |
| 124 | stat_current_cow_updated              | monotime                    |                                                                |                                                       |                                  |
| 125 | stat_current_save_keys_processed      | size_t                      |                                                                |                                                       |                                  |
| 126 | stat_current_save_keys_total          | size_t                      |                                                                |                                                       |                                  |
| 127 | stat_rdb_cow_bytes                    | size_t                      |                                                                |                                                       |                                  |
| 128 | stat_aof_cow_bytes                    | size_t                      |                                                                |                                                       |                                  |
| 129 | stat_module_cow_bytes                 | size_t                      |                                                                |                                                       |                                  |
| 130 | stat_module_progress                  | double                      |                                                                |                                                       |                                  |
| 131 | stat_clients_type_memory              | uint64_t[4]                 |                                                                |                                                       |                                  |
| 132 | stat_unexpected_error_replies         | long long                   |                                                                |                                                       |                                  |
| 133 | stat_total_error_replies              | long long                   |                                                                |                                                       |                                  |
| 134 | stat_dump_payload_sanitizations       | long long                   |                                                                |                                                       |                                  |
| 135 | stat_io_reads_processed               | long long                   |                                                                |                                                       |                                  |
| 136 | stat_io_writes_processed              | long long                   |                                                                |                                                       |                                  |
| 137 | stat_total_reads_processed            | redisAtomic long long       |                                                                |                                                       |                                  |
| 138 | stat_total_writes_processed           | redisAtomic long long       |                                                                |                                                       |                                  |
| 139 | inst_metric                           |                             |                                                                |                                                       |                                  |
| 140 | verbosity                             | int                         |                                                                |                                                       |                                  |
| 141 | maxidletime                           | int                         |                                                                |                                                       |                                  |
| 142 | tcpkeepalive                          | int                         |                                                                |                                                       |                                  |
| 143 | active_expire_enabled                 | int                         |                                                                | server.c::main->initServerConfig                      | 1                                |
| 144 | active_expire_effort                  | int                         |                                                                |                                                       |                                  |
| 145 | active_defrag_enabled                 | int                         |                                                                |                                                       |                                  |
| 146 | sanitize_dump_payload                 | int                         |                                                                |                                                       |                                  |
| 147 | skip_checksum_validation              | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 148 | jemalloc_bg_thread                    | int                         |                                                                |                                                       |                                  |
| 149 | active_defrag_ignore_bytes            | size_t                      |                                                                |                                                       |                                  |
| 150 | active_defrag_threshold_lower         | int                         |                                                                |                                                       |                                  |
| 151 | active_defrag_threshold_upper         | int                         |                                                                |                                                       |                                  |
| 152 | active_defrag_cycle_min               | int                         |                                                                |                                                       |                                  |
| 153 | active_defrag_cycle_max               | int                         |                                                                |                                                       |                                  |
| 154 | active_defrag_max_scan_fields         | unsigned long               |                                                                |                                                       |                                  |
| 155 | client_max_querybuf_len               | size_t                      |                                                                |                                                       |                                  |
| 156 | dbnum                                 | int                         |                                                                |                                                       |                                  |
| 157 | supervised                            | int                         |                                                                |                                                       |                                  |
| 158 | supervised_mode                       | int                         |                                                                |                                                       |                                  |
| 159 | daemonize                             | int                         |                                                                |                                                       |                                  |
| 160 | set_proc_title                        | char*                       |                                                                |                                                       |                                  |
| 161 | proc_title_template                   | char*                       |                                                                |                                                       |                                  |
| 162 | client_obuf_limits                    | clientBufferLimitsConfig[3] |                                                                |                                                       |                                  |
| 163 | aof_enabled                           | int                         |                                                                |                                                       |                                  |
| 164 | aof_state                             | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 165 | aof_fsync                             | int                         |                                                                |                                                       |                                  |
| 166 | aof_filename                          | char*                       |                                                                |                                                       |                                  |
| 167 | aof_no_fsync_on_rewrite               | int                         |                                                                |                                                       |                                  |
| 168 | aof_rewrite_perc                      | int                         |                                                                |                                                       |                                  |
| 169 | aof_rewrite_min_size                  | off_t                       |                                                                |                                                       |                                  |
| 170 | aof_rewrite_base_size                 | off_t                       |                                                                | server.c::main->initServerConfig                      | 0                                |
| 171 | aof_current_size                      | off_t                       |                                                                |                                                       |                                  |
| 172 | aof_fsync_offset                      | off_t                       |                                                                |                                                       |                                  |
| 173 | aof_flush_sleep                       | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 174 | aof_rewrite_scheduled                 | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 175 | aof_rewrite_buf_blocks                | list*                       |                                                                |                                                       |                                  |
| 176 | aof_buf                               | sds                         |                                                                |                                                       |                                  |
| 177 | aof_fd                                | int                         |                                                                | server.c::main->initServerConfig                      | -1                               |
| 178 | aof_selected_db                       | int                         |                                                                | server.c::main->initServerConfig                      | -1                               |
| 179 | aof_flush_postponed_start             | time_t                      |                                                                | server.c::main->initServerConfig                      | 0                                |
| 180 | aof_last_fsync                        | time_t                      |                                                                | server.c::main->initServerConfig                      | 系统时间 秒                      |
| 181 | aof_rewrite_time_last                 | time_t                      |                                                                | server.c::main->initServerConfig                      | -1                               |
| 182 | aof_rewrite_time_start                | time_t                      |                                                                | server.c::main->initServerConfig                      | -1                               |
| 183 | aof_lastbgrewrite_status              | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 184 | aof_delayed_fsync                     | unsigned long               |                                                                | server.c::main->initServerConfig                      | 0                                |
| 185 | aof_rewrite_incremental_fsync         | int                         |                                                                |                                                       |                                  |
| 186 | rdb_save_incremental_fsync            | int                         |                                                                |                                                       |                                  |
| 187 | aof_last_write_status                 | int                         |                                                                |                                                       |                                  |
| 188 | aof_last_write_errno                  | int                         |                                                                |                                                       |                                  |
| 189 | aof_load_truncated                    | int                         |                                                                |                                                       |                                  |
| 190 | aof_use_rdb_preamble                  | int                         |                                                                |                                                       |                                  |
| 191 | aof_bio_fsync_status                  | redisAtomic int             |                                                                | server.c::main->initServerConfig                      | 0                                |
| 192 | aof_bio_fsync_errno                   | redisAtomic int             |                                                                |                                                       |                                  |
| 193 | aof_pipe_write_data_to_child          | int                         |                                                                |                                                       |                                  |
| 194 | aof_pipe_read_data_from_parent        | int                         |                                                                |                                                       |                                  |
| 195 | aof_pipe_write_ack_to_parent          | int                         |                                                                |                                                       |                                  |
| 196 | aof_pipe_read_ack_from_child          | int                         |                                                                |                                                       |                                  |
| 197 | aof_pipe_write_ack_to_child           | int                         |                                                                |                                                       |                                  |
| 198 | aof_pipe_read_ack_from_parent         | int                         |                                                                |                                                       |                                  |
| 199 | aof_stop_sending_diff                 | int                         |                                                                |                                                       |                                  |
| 200 | aof_child_diff                        | sds                         |                                                                |                                                       |                                  |
| 201 | dirty                                 | long long                   |                                                                |                                                       |                                  |
| 202 | dirty_before_bgsave                   | long long                   |                                                                |                                                       |                                  |
| 203 | saveparams                            | struct saveparam*           |                                                                | server.c::main->initServerConfig                      | NULL                             |
| 204 | saveparamslen                         | int                         |                                                                |                                                       |                                  |
| 205 | rdb_filename                          | char*                       |                                                                |                                                       |                                  |
| 206 | rdb_compression                       | int                         |                                                                |                                                       |                                  |
| 207 | rdb_checksum                          | int                         |                                                                |                                                       |                                  |
| 208 | rdb_del_sync_files                    | int                         |                                                                |                                                       |                                  |
| 209 | lastsave                              | time_t                      |                                                                |                                                       |                                  |
| 210 | lastbgsave_try                        | time_t                      |                                                                |                                                       |                                  |
| 211 | rdb_save_time_last                    | time_t                      |                                                                |                                                       |                                  |
| 212 | rdb_save_time_start                   | time_t                      |                                                                |                                                       |                                  |
| 213 | rdb_bgsave_scheduled                  | int                         |                                                                |                                                       |                                  |
| 214 | rdb_child_type                        | int                         |                                                                |                                                       |                                  |
| 215 | lastbgsave_status                     | int                         |                                                                |                                                       |                                  |
| 216 | stop_writes_on_bgsave_err             | int                         |                                                                |                                                       |                                  |
| 217 | rdb_pipe_read                         | int                         |                                                                |                                                       |                                  |
| 218 | rdb_child_exit_pipe                   | int                         |                                                                |                                                       |                                  |
| 219 | rdb_pipe_conns                        | connection**                |                                                                |                                                       |                                  |
| 220 | rdb_pipe_numconns                     | int                         |                                                                |                                                       |                                  |
| 221 | rdb_pipe_numconns_writing             | int                         |                                                                |                                                       |                                  |
| 222 | rdb_pipe_buff                         | char*                       |                                                                |                                                       |                                  |
| 223 | rdb_pipe_bufflen                      | int                         |                                                                |                                                       |                                  |
| 224 | rdb_key_save_delay                    | int                         |                                                                |                                                       |                                  |
| 225 | key_laod_delay                        | int                         |                                                                |                                                       |                                  |
| 226 | child_info_pipe                       | int[2]                      |                                                                |                                                       |                                  |
| 227 | child_info_nread                      | int                         |                                                                |                                                       |                                  |
| 228 | also_propagate                        | redisOpArray                |                                                                |                                                       |                                  |
| 229 | replication_allowed                   | int                         |                                                                |                                                       |                                  |
| 230 | logfile                               | char*                       |                                                                | server.c::main->initServerConfig                      | ""空字符串                       |
| 231 | syslog_enabled                        | int                         |                                                                |                                                       |                                  |
| 232 | syslog_ident                          | char*                       |                                                                |                                                       |                                  |
| 233 | syslog_facility                       | int                         |                                                                |                                                       |                                  |
| 234 | crashlog_enabled                      | int                         |                                                                |                                                       |                                  |
| 235 | memcheck_enabled                      | int                         |                                                                |                                                       |                                  |
| 236 | use_exit_on_panic                     | int                         |                                                                |                                                       |                                  |
| 237 | replid                                | char[41]                    |                                                                | server.c::main->initServerConfig->changeReplicationId | 长度40的随机字符串[0...9 a...f]  |
| 238 | replid2                               | char[41]                    |                                                                | server.c::main->initServerConfig->clearReplicationId2 | 长度40全是0的字符串              |
| 239 | master_repl_offset                    | long long                   |                                                                |                                                       |                                  |
| 240 | second_replid_offset                  | long long                   |                                                                | server.c::main->initServerConfig->clearReplicationId2 | -1                               |
| 241 | slaveseldb                            | int                         |                                                                |                                                       |                                  |
| 242 | repl_ping_slave_period                | int                         |                                                                |                                                       |                                  |
| 243 | repl_backlog                          | char*                       |                                                                |                                                       |                                  |
| 244 | repl_backlog_size                     | long long                   |                                                                |                                                       |                                  |
| 245 | repl_backlog_histlen                  | long long                   |                                                                |                                                       |                                  |
| 246 | repl_backlog_idx                      | long long                   |                                                                |                                                       |                                  |
| 247 | repl_backlog_off                      | long long                   |                                                                |                                                       |                                  |
| 248 | repl_backlog_time_limit               | time_t                      |                                                                |                                                       |                                  |
| 249 | repl_no_slaves_since                  | time_t                      |                                                                |                                                       |                                  |
| 250 | repl_min_slaves_to_write              | int                         |                                                                |                                                       |                                  |
| 251 | repl_min_slaves_max_lag               | int                         |                                                                |                                                       |                                  |
| 252 | repl_good_slaves_count                | int                         |                                                                |                                                       |                                  |
| 253 | repl_diskless_sync                    | int                         |                                                                |                                                       |                                  |
| 254 | repl_diskless_load                    | int                         |                                                                |                                                       |                                  |
| 255 | repl_diskless_sync_delay              | int                         |                                                                |                                                       |                                  |
| 256 | masteruser                            | char*                       |                                                                |                                                       |                                  |
| 257 | masterauth                            | sds                         |                                                                |                                                       |                                  |
| 258 | masterhost                            | char*                       |                                                                |                                                       |                                  |
| 259 | masterport                            | int                         |                                                                |                                                       |                                  |
| 260 | repl_timeout                          | int                         |                                                                |                                                       |                                  |
| 261 | master                                | client*                     |                                                                |                                                       |                                  |
| 262 | cached_master                         | client*                     |                                                                |                                                       |                                  |
| 263 | repl_syncio_timeout                   | int                         |                                                                |                                                       |                                  |
| 264 | repl_state                            | int                         |                                                                |                                                       |                                  |
| 265 | repl_transfer_size                    | off_t                       |                                                                |                                                       |                                  |
| 266 | repl_transfer_read                    | off_t                       |                                                                |                                                       |                                  |
| 267 | repl_transfer_last_fsync_off          | off_t                       |                                                                |                                                       |                                  |
| 268 | repl_transfer_s                       | connection*                 |                                                                |                                                       |                                  |
| 269 | repl_transfer_fd                      | int                         |                                                                |                                                       |                                  |
| 270 | repl_transfer_tmpfile                 | char*                       |                                                                |                                                       |                                  |
| 271 | repl_transfer_lastio                  | time_t                      |                                                                |                                                       |                                  |
| 272 | repl_serve_stale_data                 | int                         |                                                                |                                                       |                                  |
| 273 | repl_slave_ro                         | int                         |                                                                |                                                       |                                  |
| 274 | repl_slave_ignore_maxmemory           | int                         |                                                                |                                                       |                                  |
| 275 | repl_down_since                       | time_t                      |                                                                |                                                       |                                  |
| 276 | repl_disable_tcp_nodelay              | int                         |                                                                |                                                       |                                  |
| 277 | slave_priority                        | int                         |                                                                |                                                       |                                  |
| 278 | replica_announced                     | int                         |                                                                |                                                       |                                  |
| 279 | slave_announce_port                   | int                         |                                                                |                                                       |                                  |
| 280 | slave_announce_ip                     | char*                       |                                                                |                                                       |                                  |
| 281 | master_replid                         | char[41]                    |                                                                |                                                       |                                  |
| 282 | master_initial_offset                 | long long                   |                                                                |                                                       |                                  |
| 283 | repl_slave_lazy_flush                 | int                         |                                                                |                                                       |                                  |
| 284 | repl_scriptcache_dict                 | dict*                       |                                                                |                                                       |                                  |
| 285 | repl_scriptcache_fifo                 | list*                       |                                                                |                                                       |                                  |
| 286 | repl_scriptcache_size                 | unsigned int                |                                                                |                                                       |                                  |
| 287 | clients_waiting_acks                  | list*                       |                                                                |                                                       |                                  |
| 288 | get_ack_from_slaves                   | int                         |                                                                |                                                       |                                  |
| 289 | maxclients                            | unsigned int                |                                                                |                                                       |                                  |
| 290 | maxmemory                             | unsigned long long          |                                                                |                                                       |                                  |
| 291 | maxmemory_policy                      | int                         |                                                                |                                                       |                                  |
| 292 | maxmemory_samples                     | int                         |                                                                |                                                       |                                  |
| 293 | maxmemory_eviction_tenacity           | int                         |                                                                |                                                       |                                  |
| 294 | lfu_log_factor                        | int                         |                                                                |                                                       |                                  |
| 295 | lfu_decay_time                        | int                         |                                                                |                                                       |                                  |
| 296 | proto_max_bulk_len                    | long long                   |                                                                |                                                       |                                  |
| 297 | oom_score_adj_base                    | int                         |                                                                |                                                       |                                  |
| 298 | oom_score_adj_values                  | int[3]                      |                                                                |                                                       |                                  |
| 299 | oom_score_adj                         | int                         |                                                                |                                                       |                                  |
| 300 | disable_thp                           | int                         |                                                                |                                                       |                                  |
| 301 | blocked_clients                       | unsigned int                |                                                                | server.c::main->initServerConfig                      | 0                                |
| 302 | blocked_clients_by_type               | unsigned int[7]             |                                                                | server.c::main->initServerConfig                      | 数组元素全部为0                  |
| 303 | unblocked_clients                     | list*                       |                                                                |                                                       |                                  |
| 304 | ready_keys                            | list*                       |                                                                |                                                       |                                  |
| 305 | tracking_clients                      | unsigned int                |                                                                |                                                       |                                  |
| 306 | tracking_table_max_keys               | size_t                      |                                                                |                                                       |                                  |
| 307 | sort_desc                             | int                         |                                                                |                                                       |                                  |
| 308 | sort_alpha                            | int                         |                                                                |                                                       |                                  |
| 309 | sort_bypattern                        | int                         |                                                                |                                                       |                                  |
| 310 | sort_store                            | int                         |                                                                |                                                       |                                  |
| 311 | hash_max_ziplist_entries              | size_t                      |                                                                |                                                       |                                  |
| 312 | hash_max_ziplist_value                | size_t                      |                                                                |                                                       |                                  |
| 313 | set_max_intset_entries                | size_t                      |                                                                |                                                       |                                  |
| 314 | zset_max_ziplist_entries              | size_t                      |                                                                |                                                       |                                  |
| 315 | zset_max_ziplist_value                | size_t                      |                                                                |                                                       |                                  |
| 316 | hll_sparse_max_bytes                  | size_t                      |                                                                |                                                       |                                  |
| 317 | stream_node_max_bytes                 | size_t                      |                                                                |                                                       |                                  |
| 318 | stream_node_max_entries               | long long                   |                                                                |                                                       |                                  |
| 319 | list_max_ziplist_size                 | int                         |                                                                |                                                       |                                  |
| 320 | list_compress_depth                   | int                         |                                                                |                                                       |                                  |
| 321 | unixtime                              | redisAtomic time_t          | 系统时间 秒                                                    | server.c::main->initServerConfig->updateCachedTime    | 系统时间                         |
| 322 | timezone                              | time_t                      | 系统时间跟格林威治时间差异                                     | server.c::main->initServerConfig                      | 系统时间跟格林威治时间差异多少秒 |
| 323 | daylight_active                       | int                         | 系统时间夏令时(DST)标识<br>0 不是DST<br>1 是DST                | server.c::main->initServerConfig->updateCachedTime    | 0                                |
| 324 | mstime                                | mstime_t                    | 系统时间 毫秒                                                  | server.c::main->initServerConfig->updateCachedTime    | 系统时间                         |
| 325 | ustime                                | ustime_t                    | 系统时间 微秒                                                  | server.c::main->initServerConfig->updateCachedTime    | 系统时间                         |
| 326 | blocking_op_nesting                   | size_t                      |                                                                |                                                       |                                  |
| 327 | blocked_last_cron                     | long long                   |                                                                |                                                       |                                  |
| 328 | pubsub_channels                       | dict*                       |                                                                |                                                       |                                  |
| 329 | pubsub_patterns                       | dict*                       |                                                                |                                                       |                                  |
| 330 | notify_keyspace_events                | int                         |                                                                | server.c::main->initServerConfig                      | 0                                |
| 331 | cluster_enabled                       | int                         |                                                                |                                                       |                                  |
| 332 | cluster_node_timeout                  | mstime_t                    |                                                                |                                                       |                                  |
| 333 | cluster_configfile                    | char*                       |                                                                | server.c::main->initServerConfig                      | nodes.conf                       |
| 334 | cluster                               | struct clusterState*        |                                                                |                                                       |                                  |
| 335 | cluster_migration_barrier             | int                         |                                                                |                                                       |                                  |
| 336 | cluster_allow_replica_migration       | int                         |                                                                |                                                       |                                  |
| 337 | cluster_slave_validity_factor         | int                         |                                                                |                                                       |                                  |
| 338 | cluster_require_full_coverage         | int                         |                                                                |                                                       |                                  |
| 339 | cluster_slave_no_failover             | int                         |                                                                |                                                       |                                  |
| 340 | cluster_announce_ip                   | char*                       |                                                                |                                                       |                                  |
| 341 | cluster_announce_port                 | int                         |                                                                |                                                       |                                  |
| 342 | cluster_announce_bus_port             | int                         |                                                                |                                                       |                                  |
| 343 | cluster_module_flags                  | int                         |                                                                | server.c::main->initServerConfig                      |                                0  |
| 344 | cluster_allow_reads_when_down         | int                         |                                                                |                                                       |                                  |
| 345 | cluster_config_file_lock_fd           | int                         |                                                                |                                                       |                                  |
| 346 | lua                                   | lua_State*                  |                                                                |                                                       |                                  |
| 347 | lua_client                            | client*                     |                                                                |                                                       |                                  |
| 348 | lua_caller                            | client*                     |                                                                |                                                       |                                  |
| 349 | lua_cur_script                        | char*                       |                                                                |                                                       |                                  |
| 350 | lua_scripts                           | client*                     |                                                                |                                                       |                                  |
| 351 | lua_scripts_mem                       | unsigned long long          |                                                                |                                                       |                                  |
| 352 | lua_time_limit                        | mstime_t                    |                                                                |                                                       |                                  |
| 353 | lua_time_start                        | monotime                    |                                                                |                                                       |                                  |
| 354 | lua_time_snapshot                     | mstime_t                    |                                                                |                                                       |                                  |
| 355 | lua_write_dirty                       | int                         |                                                                |                                                       |                                  |
| 356 | lua_random_dirty                      | int                         |                                                                |                                                       |                                  |
| 357 | lua_replicate_commands                | int                         |                                                                |                                                       |                                  |
| 358 | lua_multi_emitted                     | int                         |                                                                |                                                       |                                  |
| 359 | lua_repl                              | int                         |                                                                |                                                       |                                  |
| 360 | lua_timedout                          | int                         |                                                                |                                                       |                                  |
| 361 | lua_kill                              | int                         |                                                                |                                                       |                                  |
| 362 | lua_always_replicate_commands         | int                         |                                                                |                                                       |                                  |
| 363 | lua_oom                               | int                         |                                                                |                                                       |                                  |
| 364 | lazyfree_lazy_eviction                | int                         |                                                                |                                                       |                                  |
| 365 | lazyfree_lazy_expire                  | int                         |                                                                |                                                       |                                  |
| 366 | lazyfree_lazy_server_del              | int                         |                                                                |                                                       |                                  |
| 367 | lazyfree_lazy_user_del                | int                         |                                                                |                                                       |                                  |
| 368 | lazyfree_lazy_user_flush              | int                         |                                                                |                                                       |                                  |
| 369 | latency_monitor_threshold             | long long                   |                                                                |                                                       |                                  |
| 370 | latency_events                        | dict*                       |                                                                |                                                       |                                  |
| 371 | acl_filename                          | char*                       |                                                                |                                                       |                                  |
| 372 | acllog_max_len                        | unsigned long               |                                                                |                                                       |                                  |
| 373 | requirepass                           | sds                         |                                                                |                                                       |                                  |
| 374 | acl_pubsub_default                    | int                         |                                                                |                                                       |                                  |
| 375 | watchdog_period                       | int                         |                                                                |                                                       |                                  |
| 376 | system_memory_size                    | size_t                      |                                                                |                                                       |                                  |
| 377 | tls_cluster                           | int                         |                                                                |                                                       |                                  |
| 378 | tls_replication                       | int                         |                                                                |                                                       |                                  |
| 379 | tls_auth_clients                      | int                         |                                                                |                                                       |                                  |
| 380 | tls_ctx_config                        | redisTLSContextConfig       |                                                                |                                                       |                                  |
| 381 | server_cpulist                        | char*                       |                                                                |                                                       |                                  |
| 382 | bio_cpulist                           | char*                       |                                                                |                                                       |                                  |
| 383 | aof_rewrite_cpulist                   | char*                       |                                                                |                                                       |                                  |
| 384 | bgsave_cpulist                        | char*                       |                                                                |                                                       |                                  |
| 385 | sentinel_config                       | struct sentinelConfig*      |                                                                |                                                       |                                  |
| 386 | failover_end_time                     | mstime_t                    |                                                                |                                                       |                                  |
| 387 | force_failover                        | int                         |                                                                |                                                       |                                  |
| 388 | target_replica_host                   | char*                       |                                                                |                                                       |                                  |
| 389 | target_replica_port                   | int                         |                                                                |                                                       |                                  |
| 390 | failover_state                        | int                         |                                                                |                                                       |                                  |
