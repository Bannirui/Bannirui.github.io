---
title: vim复制行递增递减标号
date: 2023-11-10 13:15:01
category_bar: true
categories: vim
---

在之前的{% post_link VIM/VIM笔记 %}中有提到过Recording模式的实际使用，刚好在写博客的时候又遇到了实际的场景，在此记录一下。

![](vim复制行递增递减标号/2023-11-10_13-23-41.png)

如图所示，我要在markdown中绘制一个表格，期望52行，有个特点就是第一列自增，形如第1项、第2项、第3项...，以此类推。

1 vim对数字的增减操作
---

在normal模式下，将光标停留在数字上，`ctrl+a`便可以实现数字自增1，`ctrl+x`便可以实现数字自减1。

2 复制一行后将数字自增1
---

- normal模式下将光标移动到要复制的某一行，`yy`复制目标行
- 继续在normal模式下`p`将复制好的行粘贴到下一行位置
- 在新行上，继续在normal模式下`shift+6`跳到行首，`2w`向右跳到数字上
- `ctrl+a`对数字自增1

3 录制宏
---

有了分解操作之后，将其录制为宏即可：

- 进入normal模式
- `qa`进入recording模式，并为待录制的宏起名为a
- 将上述的分解步骤操作一遍
- `q`退出宏录制
- normal模式下，光标跳到第一行，`51@a`便可以实现批量复制

4 效果
---

![](vim复制行递增递减标号/2023-11-10_13-38-27.png)
